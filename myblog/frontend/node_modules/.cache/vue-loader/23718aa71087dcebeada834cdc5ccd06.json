{"remainingRequest":"/Users/toshiya/Library/Mobile Documents/com~apple~CloudDocs/docs/Python/Django/mysite/myblog/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/toshiya/Library/Mobile Documents/com~apple~CloudDocs/docs/Python/Django/mysite/myblog/frontend/src/components/Post.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/toshiya/Library/Mobile Documents/com~apple~CloudDocs/docs/Python/Django/mysite/myblog/frontend/src/components/Post.vue","mtime":1633782457282},{"path":"/Users/toshiya/Library/Mobile Documents/com~apple~CloudDocs/docs/Python/Django/mysite/myblog/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1633954957055},{"path":"/Users/toshiya/Library/Mobile Documents/com~apple~CloudDocs/docs/Python/Django/mysite/myblog/frontend/node_modules/babel-loader/lib/index.js","mtime":1633954957864},{"path":"/Users/toshiya/Library/Mobile Documents/com~apple~CloudDocs/docs/Python/Django/mysite/myblog/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1633954957055},{"path":"/Users/toshiya/Library/Mobile Documents/com~apple~CloudDocs/docs/Python/Django/mysite/myblog/frontend/node_modules/vue-loader/lib/index.js","mtime":1633954958139}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdwb3N0JywKICAgIHByb3BzOiB7CiAgICAgICAgaWQ6IHt0eXBlOiBOdW1iZXJ9LAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcG9zdDogbnVsbCwKICAgICAgICAgICAgaGFzQmVmb3JlOiBmYWxzZSwKICAgICAgICB9CiAgICB9LAogICAgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgICAgIG5leHQoY29tcG9uZW50ID0+IHsKICAgICAgICAgICAgaWYgKGZyb20ubmFtZSkgewogICAgICAgICAgICAgICAgY29tcG9uZW50Lmhhc0JlZm9yZSA9IHRydWUKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLiRodHRwKGAke3RoaXMuJGh0dHBQb3N0c30ke3RoaXMuaWR9L2AsIHtjcmVkZW50aWFsczogImluY2x1ZGUiLH0pCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnBvc3QgPSBkYXRhCiAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGAke2RhdGEudGl0bGV9IC0g44OW44Ot44KwYAogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPSJkZXNjcmlwdGlvbiJdJykuc2V0QXR0cmlidXRlKCdjb250ZW50JywgZGF0YS5sZWFkX3RleHQpCiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB0aGlzLm1vdmVUb2MoKSkKCiAgICAgICAgICAgIH0pCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdvQmFjaygpIHsKICAgICAgICAgICAgaWYgKHRoaXMuaGFzQmVmb3JlKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ3Bvc3RzJ30pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNjcm9sbFRvcCgpIHsKICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAic21vb3RoIgogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG1vdmVUb2MoKSB7CiAgICAgICAgICAgIGNvbnN0IGlubmVyVG9jID0gdGhpcy4kcmVmcy50ZXh0LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50b2MnKQogICAgICAgICAgICBjb25zdCBjbG9uZVRvYyA9IGlubmVyVG9jLmNsb25lTm9kZSh0cnVlKQogICAgICAgICAgICB0aGlzLiRyZWZzLnRvYy5hcHBlbmRDaGlsZChjbG9uZVRvYykKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Post.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Post.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <article :key=\"id\" class=\"container\" v-if=\"post\">\n        <header>\n            <nav id=\"back\"><a @click=\"goBack\" title=\"前ページへ戻る\"><img src=\"@/assets/back.png\"></a></nav>\n            <p class=\"post-category\" :style=\"{'color': post.category.color}\">{{post.category.name}}</p>\n            <h1 class=\"post-title\">{{post.title}}</h1>\n        </header>\n        <div id=\"main\">\n            <nav id=\"toc\" ref=\"toc\"></nav>\n            <div id=\"post-main\" ref=\"text\" v-html=\"post.main_text\"></div>\n        </div>\n        <hr class=\"divider\">\n        <nav id=\"top\"><a @click=\"scrollTop\" title=\"一番上まで戻る\"><img src=\"@/assets/ue.png\"></a></nav>\n    </article>\n</template>\n\n<script>\n    export default {\n        name: 'post',\n        props: {\n            id: {type: Number},\n        },\n        data() {\n            return {\n                post: null,\n                hasBefore: false,\n            }\n        },\n        beforeRouteEnter(to, from, next) {\n            next(component => {\n                if (from.name) {\n                    component.hasBefore = true\n                }\n            })\n        },\n        mounted() {\n            this.$http(`${this.$httpPosts}${this.id}/`, {credentials: \"include\",})\n                .then(response => {\n                    return response.json()\n                })\n                .then(data => {\n                    this.post = data\n                    document.title = `${data.title} - ブログ`\n                    document.querySelector('meta[name=\"description\"]').setAttribute('content', data.lead_text)\n                    this.$nextTick(() => this.moveToc())\n\n                })\n        },\n        methods: {\n            goBack() {\n                if (this.hasBefore) {\n                    this.$router.go(-1)\n                } else {\n                    this.$router.push({name: 'posts'})\n                }\n            },\n            scrollTop() {\n                window.scrollTo({\n                    top: 0,\n                    behavior: \"smooth\"\n                });\n            },\n            moveToc() {\n                const innerToc = this.$refs.text.querySelector('div.toc')\n                const cloneToc = innerToc.cloneNode(true)\n                this.$refs.toc.appendChild(cloneToc)\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    header {\n        margin-bottom: 80px;\n    }\n\n    #back {\n        margin-bottom: 80px;\n    }\n\n    #back a {\n        cursor: pointer;\n        width: 44px;\n        display: inline-block;\n    }\n\n    #top a {\n        cursor: pointer;\n        color: #999;\n        display: inline-block;\n        width: 44px;\n    }\n\n    .post-category {\n        font-size: 14px;\n        font-family: fot-tsukuardgothic-std, sans-serif;\n    }\n\n    .post-title {\n        font-weight: bold;\n        font-size: 22px;\n        font-family: fot-tsukuardgothic-std, sans-serif;\n    }\n\n    .divider {\n        margin-top: 80px;\n        margin-bottom: 80px;\n        width: 100%;\n        height: 1px;\n        border: none;\n        background-color: #ccc;\n    }\n\n    #post-main {\n        width: 100%;\n        line-height: 2;\n    }\n\n    #main >>> div.toc a {\n        font-size: 12px;\n        color: #666666;\n        text-decoration: none;\n    }\n\n    #post-main >>> > * {\n        margin-bottom: 1.5em;\n    }\n\n    #post-main >>> div.toc + * {\n        margin-top: 0;\n    }\n\n    #post-main >>> > h2 {\n        font-family: fot-tsukuardgothic-std, sans-serif;\n        font-weight: bold;\n        font-size: 18px;\n        line-height: 1.5;\n        margin-top: 42px;\n        margin-bottom: 21px;\n    }\n\n    #post-main >>> img {\n        max-width: 100%;\n        height: auto;\n        box-shadow: 0 0 5px #ccc;\n    }\n\n    #post-main >>> strong {\n        background-color: yellow;\n    }\n\n    #post-main >>> div.toc {\n        display: none;\n    }\n\n    #toc {\n        display: none;\n    }\n\n    @media (min-width: 768px) {\n\n        #post-main {\n            width: 650px;\n        }\n    }\n\n    @media (min-width: 1024px) {\n        #main {\n            display: grid;\n            grid-template-columns: 150px 650px;\n            column-gap: 50px\n        }\n\n        #toc {\n            grid-column: 1;\n            display: block;\n            align-self: start;\n            position: sticky;\n            top: 20px;\n        }\n\n        #post-main {\n            grid-column: 2;\n        }\n\n    }\n</style>"]}]}